{% extends "dashboard/_base.html" %}

<!--Trying to apply boostrap CSS to this. Further work is needed.-->

{% block pagetitle %}Submit Data{% endblock %}

{% block pageheader %}{% endblock %}

{% block pagedescription %}

{% endblock %}

{% block content %}


{% block dataform %}
<div class="container">
    
        <div class="row">
                <div class="col-md-9">
                    <div class="panel panel-default" >
                            <div class="panel-heading"><h1>Submit Project</h1></div>
                            
                    <div class="panel-body">

                                <p>
                                    Required for each data type is a DataMatrix (tab-dilimited text file), 
                                    optional files FeatureAnnotation and ObservationAnnotation.
                                </p>

                            <form enctype="multipart/form-data" action="" method="post">
                                {% csrf_token %}
                                {% block formfields %}
                                <table  style="background-color: azure; padding: 16px">
                                {{ form.as_table }}
                                </table>
                                {% endblock %}
                                <button type="submit">Submit</button>
                            </form>
        
                    </div>
                    </div>
                </div>
                <div class="col-md-3" style="padding-top: 60px">
                    <p> HiCoNet is designed for integration of multiple data types collected from a common group of subjects.
                        Each data type is regarded as a "society".
                        HiCoNet detects "communities" within "society", then tests the association between communities across data types. 
                        This "hierarchical community network" thus provides a reasonable model of the organizational structure of measured biology.
                    </p>
                </div>             
        </div>
            
        <div class="row">
                    <div class="panel panel-default">
                        <div class="panel-heading"><h4>Terminology</h4></div>
                        <div class="panel-body" >
                            <li>
                            DataMatrix: a data matrix of [continuous] values that represent a biological state or concentration, of the same data type.
                            E.g. transcriptomics (array intensity or transcript counts), metabolomics (peak intensity/area) or microbial OTU counts.
                            This can include different time points or treatments. This is the unit community detection is based on.
                            </li>
                            <li>
                                ObservationAnnotation: an observation is an experimental measurement of a biological sample. 
                                A sample may have measurement replicates. Description of biological samples should be in ObservationAnnotation, which can support inferring the study design (e.g. treatment, time points). For ImmPort data, the MySQL table `biosample` can serve as ObservationAnnotation. Time points and treatment are key annotation variables in many studies. 
                            </li>
                            <li>
                                FeatureAnnotation: meta data on features. 
                                This can be as simple as gene annotation, which can even be optional. But a feature may carry a defition of multiple parameters. E.g. a metabolite feaure may have m/z, retention time and collision cross section, and these parameters may be used for certain algorithms.
                            </li>                
                           
                        </div>

                </div>
        </div>
</div>
        


{% endblock %}

<hr>
<p>
    This project was in part supported by the National Institutes of Health (NIAID UH2 AI132345).
</p>

{% endblock %}

